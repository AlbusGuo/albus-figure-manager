# Albus Figure Manager - 快速开始指南

## 📋 功能说明

Albus Figure Manager 是一个强大的 Obsidian 图片管理插件，提供以下功能：

### ✨ 核心功能

1. **图片浏览**
   - 网格视图展示所有图片
   - 支持多种格式：PNG, JPG, JPEG, GIF, BMP, WEBP, SVG, AGX
   - 缩略图预览
   - 文件信息显示（大小、创建时间等）

2. **引用检查**
   - 自动检查图片在笔记中的引用情况
   - 显示引用数量
   - 查看具体引用位置
   - 筛选未引用图片

3. **文件操作**
   - 打开图片
   - 重命名图片
   - 删除图片
   - 双击打开（可配置）

4. **搜索和筛选**
   - 按文件名搜索
   - 按路径搜索
   - 仅显示未引用图片
   - 按时间排序

5. **AGX 文件支持**
   - 自动关联 AGX 和 SVG 文件
   - 使用 SVG 作为缩略图
   - 同步操作两个文件

## 🚀 使用方法

### 打开图片管理器

有两种方式打开图片管理器：

1. **通过侧边栏图标**
   - 点击左侧边栏的图片图标 📷

2. **通过命令面板**
   - 按 `Ctrl+P` (Windows/Linux) 或 `Cmd+P` (Mac)
   - 输入 "打开图片管理器"
   - 回车确认

### 基本操作

#### 浏览图片

1. 打开图片管理器后，会显示所有图片的网格视图
2. 每个图片卡片显示：
   - 缩略图
   - 文件名
   - 格式标签
   - 引用数量
   - 创建时间

#### 搜索图片

1. 在顶部搜索框中输入关键词
2. 支持搜索文件名和路径
3. 点击清除按钮 (✕) 清空搜索

#### 检查引用

1. 点击 "🔍 检查引用" 按钮
2. 等待系统扫描所有 Markdown 文件
3. 引用数量会显示在图片卡片上
4. 点击 "🔗 仅未引用" 筛选未被引用的图片

#### 预览图片

1. 点击任意图片卡片打开预览
2. 预览窗口显示：
   - 大图预览
   - 文件详细信息
   - 引用列表
3. 点击引用项可以打开对应笔记

#### 文件操作

**打开文件**
- 点击图片卡片上的 📂 按钮
- 使用系统默认程序打开图片

**重命名文件**
- 点击图片卡片上的 ✏️ 按钮
- 输入新文件名（不含扩展名）
- 点击确定

**删除文件**
- 点击图片卡片上的 🗑️ 按钮
- 确认删除（如果启用了删除确认）
- 文件会被移至回收站

#### 排序

使用右上角的排序下拉框：
- **从新到旧**: 最新创建的图片在前
- **从旧到新**: 最早创建的图片在前

## ⚙️ 设置选项

### 显示选项

- **显示文件大小**: 在图片卡片上显示文件大小
- **显示修改时间**: 在图片卡片上显示修改时间
- **自动检查引用**: 打开管理器时自动检查引用
- **默认筛选未引用图片**: 默认只显示未被引用的图片

### 行为选项

- **双击打开文件**: 双击图片卡片时打开文件
- **删除前确认**: 删除文件前显示确认对话框

### 默认文件夹

设置默认显示的图片文件夹路径。

## 💡 使用技巧

### 1. 清理未使用的图片

1. 打开图片管理器
2. 点击 "🔍 检查引用"
3. 点击 "🔗 仅未引用"
4. 查看所有未被引用的图片
5. 选择性删除不需要的图片

### 2. 快速定位图片引用

1. 打开图片管理器
2. 搜索图片名称
3. 点击图片预览
4. 在引用列表中点击笔记名称
5. 直接跳转到引用位置

### 3. 批量检查图片

1. 启用 "自动检查引用" 选项
2. 每次打开管理器自动扫描
3. 实时了解图片使用情况

### 4. AGX 文件管理

- AGX 文件和对应的 SVG 文件会被关联
- 操作会同步到两个文件
- 缩略图使用 SVG 显示
- 引用检查基于 SVG 文件

## 🎯 常见场景

### 场景一：整理图片库

```
1. 打开图片管理器
2. 检查引用
3. 筛选未引用图片
4. 预览确认是否需要保留
5. 删除不需要的图片
```

### 场景二：查找图片引用位置

```
1. 搜索图片名称
2. 点击预览
3. 查看引用列表
4. 点击跳转到笔记
```

### 场景三：批量重命名

```
1. 浏览图片
2. 找到需要重命名的图片
3. 点击重命名按钮
4. 输入新名称
5. 系统自动更新引用
```

## 📝 注意事项

1. **引用检查性能**
   - 首次检查可能需要一些时间
   - 结果会被缓存以提高性能
   - 文件修改后缓存会失效

2. **文件操作**
   - 删除操作会将文件移至系统回收站
   - 重命名后 Obsidian 会自动更新链接
   - AGX 文件操作会同时影响 SVG 文件

3. **搜索功能**
   - 搜索不区分大小写
   - 支持模糊匹配
   - 可以搜索路径中的任意部分

4. **性能优化**
   - 大量图片时建议使用搜索筛选
   - 引用检查结果会被缓存
   - 避免频繁重新检查引用

## 🐛 故障排除

### 图片不显示

- 检查文件格式是否支持
- 确认文件路径正确
- 尝试刷新（重新打开管理器）

### 引用检查不准确

- 点击 "🔍 检查引用" 手动刷新
- 检查 Markdown 文件中的链接格式
- 确认文件路径正确

### 操作失败

- 检查文件权限
- 确认文件未被其他程序占用
- 查看 Obsidian 控制台错误信息

## 📚 相关链接

- [项目架构文档](./ARCHITECTURE.md)
- [更新日志](./CHANGELOG.md)
- [贡献指南](./CONTRIBUTING.md)
